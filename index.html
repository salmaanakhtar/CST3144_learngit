<html>
  <head>
    <title>Vue.js Pet Depot</title>
    <script src="https://unpkg.com/vue@2.7.8/dist/vue.js"></script>
  </head>
  <body>
    <div id="app">
      <header>
        <h1 v-text="sitename"></h1>
      </header>
      <main>
        <figure>
          <!-- bind 'src' attr to 'product.image' in 'data' -->
          <img v-bind:src="product.image" />
        </figure>
        <h2 v-text="product.title"></h2>
        <p v-html="product.description"></p>
        <!-- The double curly brackets is used instead of 'v-text' -->
        <p>Price: {{product.price}}</p>
        <button v-on:click="addToCart">
          Add to cart
        </button>
        <button v-on:click="showCheckoutForm">
          Checkout
        </button>
        
      </main>
      
      <!-- Checkout Section -->
      <section v-if="showCheckout">
        <h2>Checkout</h2>
        <p>
          <strong>First Name:</strong>
          <!-- This input field is bound to 'firstName' in the 'order' object -->
          <input v-model.trim="order.firstName"/>
        </p>
        <p>
          <strong>Last Name:</strong>
          <!-- This input field is bound to 'lastName' in the 'order' object -->
          <input v-model.trim="order.lastName"/>
        </p>
        <p>
          <strong>Address:</strong> <input v-model="order.address"/>
        </p>
        <p>
          <strong>City:</strong> <input v-model="order.city"/>
        </p>
        <p>
          <strong>State:</strong>
          <select v-model="order.state">
            <option disabled value="">State</option>
            <option v-for="(state, key) in states"
            v-bind:value="state">
            {{key}}
            </option>
          </select>
        </p>
        <p>
          <strong>Zip/Postal Code:</strong> <input v-model.number="order.zip"/>
        </p>
        <p><input type="checkbox" id="gift" value="true"
        v-model="order.gift"
        v-bind:true-value="order.sendGift"
        v-bind:false-value="order.dontSendGift">
        <label for="gift">Ship As Gift?</label></p>
        <p><input type="radio" id="home" value="Home" v-model="order.method">
        <label for="home">Home</label>
        <input type="radio" id="business" value="Business" v-model="order.method">
        <label for="business">Business</label></p>
        
        <button v-on:click="submitForm">Place Order</button>
        
        <h2>Order Information</h2>
        <p>First Name: {{order.firstName}}</p>
        <p>Last Name: {{order.lastName}}</p>
        <p>Address: {{order.address}}</p>
        <p>City: {{order.city}}</p>
        <p>State: {{order.state}}</p>
        <p>Zip/Postal Code: {{order.zip}}</p>
        <p>Ship As Gift: {{order.gift}}</p>
        <p>Shipping Method: {{order.method}}</p>
      </section>
    </div>

    <script type="text/javascript">
      var webstore = new Vue({
        el: "#app", // <=== Don't forget this comma
        data: {
          sitename: "Vue.js Pet Depot",
          product: {
            id: 1001,
            title: "Cat Food, 25lb bag",
            description: "A 25 pound bag of irresistible, organic goodness for your cat.",
            price: 2000,
            image: "images/images.jpg",
          },
          cart: [], // array to store items in shopping cart
          order: {
            firstName: '',
            lastName: '',
            address: '',
            city: '',
            state: '',
            zip: '',
            method: 'Home',
            gift: false,
            sendGift: 'Send as a gift',
            dontSendGift: 'Do not send as a gift'
          },
          showCheckout: false, // controls whether checkout section is visible
          states: {
            AL: 'Alabama',
            AR: 'Arizona',
            CA: 'California',
            NV: 'Nevada'
          }
        },
        computed: { // the Computed Property object
          cartItemCount: function() { // the property name
            // its value is calculated when it is called
            return this.cart.length || "";
          }
        },
        methods: {
          addToCart: function () {
            this.cart.push(this.product.id);
          },
          showCheckoutForm: function () {
            this.showCheckout = true;
          },
          submitForm: function () {
            alert('Order submitted!');
          }
        }
      });
    </script>
  </body>
</html>
